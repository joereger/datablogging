
<%@ page import="java.util.*,
                 reger.template.Template" %>

<%
/*----------------------------------------------------*/
/*                  Page Config                       */
reger.pageFramework.PageProps pageProps = new reger.pageFramework.PageProps();
pageProps.siteSection=pageProps.MASTERADMINSITE;
//pageProps.title = "MasterAdmin Control Center Home Page";
pageProps.isPasswordProtected = true;
pageProps.navButtonName = "loetemplates";
pageProps.aclObjectName = "MASTERADMIN";
pageProps.pathToAppRoot="../";
/*----------------------------------------------------*/
%>

<%@ include file="../globalheader.jsp" %>

<%
/*----------------------------------------------------*/
/*                  Main Body                         */
    StringBuffer mb = new StringBuffer();
/*----------------------------------------------------*/


//Get templateid
int templateid = -1;
if (request.getParameter("templateid")!=null && reger.core.Util.isinteger(request.getParameter("templateid"))){
    templateid = Integer.parseInt(request.getParameter("templateid"));
}


mb.append("<br><br>");

//Load the template
Template template = reger.template.AllTemplatesInSystem.getTemplateByTemplateid(templateid, 0);
if (template!=null){

    //Export as java class
    mb.append("<code>");
    mb.append("//-----------------------------------" + "<br>");
    mb.append("//-----------------------------------" + "<br>");
    mb.append("int identity = Db.RunSQLInsert(\"INSERT INTO templatenew(template, type, accountid, issystemtemplate, name) VALUES('\"+reger.core.Util.cleanForSQL(\""+template.getTemplate().replaceAll("<", "&lt;").replaceAll(  "\""  , "\\\\\""   ).replaceAll( "\\%\\>" , "% >" )  +"\")+\"', '"+template.getType()+"', '0', '1', '\"+reger.core.Util.cleanForSQL(\""+template.getName()+"\")+\"')\");" + "<br>");
    mb.append("//-----------------------------------" + "<br>");
    mb.append("//-----------------------------------" + "<br>");
    mb.append("</code>");






} else {
    mb.append("Template not found.");
}





%>

<%
/*----------------------------------------------------*/
/*                  Side Column                       */
    StringBuffer sc = new StringBuffer();
/*----------------------------------------------------*/

    //sc.append("This is a ");
    //sc.append("side column section.");
%>


<%@ include file="../globalfooter.jsp" %>







