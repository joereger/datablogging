<%@ page import="reger.SideColumn,
                 com.swabunga.spell.event.SpellCheckEvent,
                 reger.core.db.Db,
                 javax.crypto.spec.PBEKeySpec,
                 javax.crypto.spec.PBEParameterSpec,
                 java.security.InvalidKeyException,
                 java.security.NoSuchAlgorithmException,
                 javax.crypto.*,
                 java.io.*,
                 java.util.*,
                 reger.Entry,
                 reger.cache.EntryCache"%>


<%
/*----------------------------------------------------*/
/*                  Page Config                       */
reger.pageFramework.PageProps pageProps = new reger.pageFramework.PageProps();
pageProps.siteSection=pageProps.PUBLICSITE;
pageProps.isPasswordProtected = false;
pageProps.trafficType=reger.Vars.TRAFFICTYPEPUBLICHOMEPAGE;
pageProps.pathToAppRoot="";
/*----------------------------------------------------*/
%>

<%@ include file="../globalheader.jsp" %>

<%
/*----------------------------------------------------*/
/*                  Main Body                         */
            StringBuffer mb = new StringBuffer();
/*----------------------------------------------------*/


////-----------------------------------
////-----------------------------------
//String[][] rstEntries= Db.RunSQL("SELECT eventid FROM event WHERE accountid='"+userSession.getAccount().getAccountid()+"' ORDER BY eventid ASC");
////-----------------------------------
////-----------------------------------
//if (rstEntries!=null && rstEntries.length>0){
//    for(int i=0; i<rstEntries.length; i++){
//        reger.core.Util.logtodb("Going to get eventid=" + rstEntries[i][0] + " from cache.");
//        Entry entry = EntryCache.get(Integer.parseInt(rstEntries[i][0]));
//        mb.append("<br><br>eventid=" + entry.eventid);
//        mb.append("<br>title=" + entry.title);
//        //EntryCache.dumpCurrentStatusToDb();
//    }
//}
//
//int reuseEventid = -1;
////-----------------------------------
////-----------------------------------
//String[][] rstEntries2= Db.RunSQL("SELECT eventid FROM event WHERE accountid='"+userSession.getAccount().getAccountid()+"' ORDER BY eventid ASC LIMIT 0,1");
////-----------------------------------
////-----------------------------------
//if (rstEntries2!=null && rstEntries2.length>0){
//    reuseEventid = Integer.parseInt(rstEntries2[0][0]);
//}
//
//for(int i=0; i<100; i++){
//    reger.core.Util.logtodb("Going to get eventid=" + reuseEventid + " from cache OVER AND OVER AGAIN.");
//    Entry entry = EntryCache.get(reuseEventid);
//    mb.append("<br><br>eventid REUSE TEST #"+i+"=" + entry.eventid);
//    mb.append("<br>title=" + entry.title);
//    //EntryCache.dumpCurrentStatusToDb();
//}

//Get orig value
Entry ent0 = EntryCache.get(15784);
mb.append("<br>Original title: " + ent0.title);

//Now on to testing editing of objects
Entry ent1 = EntryCache.get(15784);
ent1.title = "Edited first time at " + reger.core.TimeUtils.nowInGmtString();
mb.append("<br>ent1.title: " + ent1.title);

//Now get it and display it.
//Get orig value
Entry ent1a = EntryCache.get(15784);
mb.append("<br>ent1a.title: " + ent1a.title);

//Now on to testing editing of objects
Entry ent2 = EntryCache.get(15784);
ent2.title = "Edited second time at " + reger.core.TimeUtils.nowInGmtString();
mb.append("<br>ent2.title: " + ent2.title);

//Now get it and display it.
//Get orig value
Entry ent2a = EntryCache.get(15784);
mb.append("<br>ent2a.title: " + ent2a.title);

mb.append("<br><br><br><br><br>");

%>

<%
/*----------------------------------------------------*/
/*                  Side Column                       */
            StringBuffer sc = new StringBuffer();
/*----------------------------------------------------*/

%>

<%@ include file="../globalfooter.jsp" %>

