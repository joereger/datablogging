<%@ page import="reger.SideColumn,
                 java.util.*,
                 org.hibernate.Session,
                 reger.entities.HibernateUtil,
                 org.hibernate.Transaction,
                 reger.entities.Cat"%>


<%
/*----------------------------------------------------*/
/*                  Page Config                       */
reger.pageFramework.PageProps pageProps = new reger.pageFramework.PageProps();
pageProps.siteSection=pageProps.PUBLICSITE;
pageProps.isPasswordProtected = false;
pageProps.trafficType=reger.Vars.TRAFFICTYPEPUBLICHOMEPAGE;
pageProps.pathToAppRoot="";
/*----------------------------------------------------*/
%>

<%@ include file="../globalheader.jsp" %>

<%
/*----------------------------------------------------*/
/*                  Main Body                         */
            StringBuffer mb = new StringBuffer();
/*----------------------------------------------------*/



Session hsession = HibernateUtil.currentSession();
Transaction tx = hsession.beginTransaction();

Cat princess = new Cat();
princess.setName("Princess" + reger.core.RandomString.randomAlphanumeric(4));
princess.setSex('F');
princess.setWeight(Float.parseFloat(String.valueOf(reger.core.Util.randomInt(30))));

hsession.save(princess);
tx.commit();
HibernateUtil.closeSession();


mb.append("<br>Cat saved. catid=" + princess.getCatid());
mb.append("<br>Cat saved. name=" + princess.getName());
mb.append("<br>Cat saved. weight=" + princess.getWeight());

mb.append("<br><br>");

// fetch ids
List theseCats = hsession.createQuery("from Cat as cat where catid > ?").setInteger(0, 3).list();
for (int i = 0; i < theseCats.size(); i++) {
    Cat cat = (Cat) theseCats.get(i);
    mb.append("<br>Cat retrieved. catid=" + cat.getCatid());
    mb.append("<br>Cat retrieved. name=" + cat.getName());
    mb.append("<br>Cat retrieved. weight=" + cat.getWeight());
    mb.append("<br><br>");
}




mb.append("<br><br><br><br><br>");

%>

<%
/*----------------------------------------------------*/
/*                  Side Column                       */
            StringBuffer sc = new StringBuffer();
/*----------------------------------------------------*/

%>

<%@ include file="../globalfooter.jsp" %>

