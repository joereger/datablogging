<%@ page import="reger.core.db.Db,
                 reger.core.Util,
                 reger.mega.FieldType,
                 reger.mega.FieldTypeFactory"%>
<%@ page import="reger.xforms.fieldtype.XFormsFormControlFactory"%>
<%@ page import="reger.xforms.fieldtype.XFormsFormControl"%>
<%
/*----------------------------------------------------*/
/*                  Page Config                       */
reger.pageFramework.PageProps pageProps = new reger.pageFramework.PageProps();
pageProps.siteSection=pageProps.ADMINSITE;
pageProps.title = "Customize Log Properties";
pageProps.isPasswordProtected = true;
pageProps.navButtonName = "logsyourlogs";
pageProps.aclObjectName = "CUSTOMIZELOG";
pageProps.trafficType=reger.Vars.TRAFFICTYPEADMINMISC;
pageProps.pathToAppRoot="../";
//pageProps.isLogidRequired=true;
/*----------------------------------------------------*/
%>

<%@ include file="../globalheader.jsp" %>

<%
/*----------------------------------------------------*/
/*                  Main Body                         */
    StringBuffer mb = new StringBuffer();
/*----------------------------------------------------*/


//Log Header start
String currentNavButtonName = "logs-fieldlayout";
%>
<%@ include file="logs-header.jsp" %>
<%
//Log Header end





mb.append("<form action='x-logs-field.log' method=post>");
mb.append("<input type=hidden name=action value='addfield'>");
mb.append("<input type=hidden name=eventtypeid value="+request.getParameter("eventtypeid")+">");
mb.append("<input type=hidden name=logid value="+pageProps.logProps.logid+">");
mb.append("<input type=hidden name=returntopage value="+request.getParameter("returntopage")+">");


mb.append("<table cellpadding=5 cellspacing=1 border=0 align=center>");


mb.append("<tr>");
mb.append("<td bgcolor=#ffffff align=left colspan=4>");
mb.append("<font face=arial size=+1><strong>Which type of field would you like to add?</strong></font>");
mb.append("</td>");
mb.append("</tr>");

mb.append("<tr>");
mb.append("<td bgcolor=#cccccc align=center valign=middle><font face=arial size=-1><strong>Choose Here</strong></font></td>");
mb.append("<td valign=middle align=left bgcolor=#c6c6c6><font face=arial size=-1>Field Type</font></td>");
mb.append("<td valign=middle align=left bgcolor=#c6c6c6><font face=arial size=-1>Description</font></td>");
mb.append("<td valign=middle align=left bgcolor=#c6c6c6>");
mb.append("<font face=arial size=-1>Sample</font>");
mb.append("</td>");
mb.append("</tr>");




XFormsFormControl[] fts = XFormsFormControlFactory.getAllControls();
for (int i = 0; i < fts.length; i++) {

    mb.append("<tr>");
    mb.append("<td bgcolor=#eeeeee align=center valign=middle><input type=radio name=fieldtype value='"+fts[i]+"'></td>");
    mb.append("<td valign=middle align=left bgcolor=#eeeeee><font face=arial size=-1><strong>"+fts[i].getName()+"</strong></font></td>");
    mb.append("<td valign=middle align=left bgcolor=#eeeeee><font face=arial size=-2>"+fts[i].getDescription()+"</font></td>");
    mb.append("<td valign=middle align=left bgcolor=#eeeeee>");
    //mb.append(reger.Help.tip("Sample", fld.getHtmlAdminSample(), false, pageProps.pathToAppRoot));
    mb.append("</td>");
    mb.append("</tr>");

 }



mb.append("<tr>");
mb.append("<td bgcolor=#cccccc colspan=4 align=center>");
mb.append("<input type='submit' value='Continue'>");
mb.append("</td>");
mb.append("</tr>");

mb.append("<tr><td bgcolor=#ffffff></td><td bgcolor=#ffffff></td><td bgcolor=#ffffff></td><td bgcolor=#ffffff></td></tr>");

mb.append("</table>");


mb.append("</form>");
mb.append("<br><br>");


//Log Footer start
%>
<%@ include file="logs-footer.jsp" %>
<%
//Log Footer end

%>

<%
/*----------------------------------------------------*/
/*                  Side Column                       */
    StringBuffer sc = new StringBuffer();
/*----------------------------------------------------*/
//sc.append("This is a ");
//sc.append("side column section.");

%>


<%@ include file="../globalfooter.jsp" %>
